{% extends "base_user.html" %}

{% block title %}Åžifre DeÄŸiÅŸtir{% endblock %}

{% block head %}
  <style>
    .card-premium {
      border: none;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
    }
    .card-premium h3 {
      font-weight: 700;
      color: #007bff;
    }
    .form-control {
      border-radius: 10px;
      border: 1px solid #ddd;
      transition: all 0.3s ease;
    }
    .form-control:focus {
      border-color: #007bff;
      box-shadow: 0 0 8px rgba(0, 123, 255, 0.3);
    }
    .btn-premium {
      background: linear-gradient(135deg, #007bff, #00c6ff);
      border: none;
      color: #fff;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    .btn-premium:hover {
      background: linear-gradient(135deg, #0056b3, #0099cc);
    }
    .toast-body {
      font-size: 0.95rem;
    }
  </style>
{% endblock %}

{% block content %}

<div class="container mt-5" style="max-width: 500px;">
  <div class="card card-premium">
    <div class="card-body p-4">

      <h3 class="mb-4 text-center">
        ðŸ”’ Åžifre DeÄŸiÅŸtir
      </h3>

      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div class="position-fixed top-0 end-0 p-3" style="z-index: 1055;">
            {% for category, message in messages %}
              <div class="toast align-items-center text-bg-{{ category }} border-0 show mb-2">
                <div class="d-flex">
                  <div class="toast-body">{{ message }}</div>
                  <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
                </div>
              </div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <form method="POST" action="{{ url_for('change_password') }}" novalidate>
        <div class="mb-3">
          <label for="current_password" class="form-label">Mevcut Åžifre</label>
          <input type="password" class="form-control" id="current_password" name="current_password" placeholder="Mevcut ÅŸifrenizi giriniz" required>
        </div>

        <div class="mb-3">
          <label for="new_password" class="form-label">Yeni Åžifre</label>
          <input type="password" class="form-control" id="new_password" name="new_password" placeholder="Yeni ÅŸifrenizi giriniz" required>
        </div>

        <div class="mb-4">
          <label for="confirm_password" class="form-label">Yeni Åžifre (Tekrar)</label>
          <input type="password" class="form-control" id="confirm_password" name="confirm_password" placeholder="Yeni ÅŸifreyi tekrar giriniz" required>
        </div>

        <button type="submit" class="btn btn-premium w-100 rounded-3 py-2">
          <i class="bi bi-key me-2"></i> Åžifreyi GÃ¼ncelle
        </button>
      </form>

    </div>
  </div>
</div>

{% endblock %}
