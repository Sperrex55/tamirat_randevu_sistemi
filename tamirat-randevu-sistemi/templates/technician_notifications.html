{% extends "base_technician.html" %}

{% block title %}Bildirimler{% endblock %}

{% block content %}

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="position-fixed top-0 end-0 p-3" style="z-index: 1055;">
      {% for category, message in messages %}
        <div class="toast align-items-center text-bg-{{ category }} border-0 show mb-2">
          <div class="d-flex">
            <div class="toast-body">{{ message }}</div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
          </div>
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}


<div class="container my-4">
  <h2 class="mb-4 text-center">
    <i class="bi bi-bell me-2 text-primary fs-3"></i> Bildirimler
  </h2>

  {% if notifications %}
    <ul class="list-group shadow-sm rounded-4">
      {% for note in notifications %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          {{ note.message }}
          <small class="text-muted">{{ note.date.strftime('%d %B %Y, %H:%M') }}</small>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <div class="alert alert-info text-center rounded-3 shadow-sm">
      <i class="bi bi-info-circle"></i> Henüz bildirim bulunmamaktadır.
    </div>
  {% endif %}
</div>
{% endblock %}
